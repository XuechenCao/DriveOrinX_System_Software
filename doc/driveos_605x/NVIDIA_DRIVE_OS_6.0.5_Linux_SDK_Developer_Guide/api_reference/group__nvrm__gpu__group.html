<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2021 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA DRIVE OS Linux SDK API Reference: GPU access API | NVIDIA Docs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<script src="//assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="nv_theme_dark.css" rel="stylesheet" type="text/css"/>
<style>
    body {
        background-position: 350px 200px;
        background-image: url(watermark.png);
        background-repeat: no-repeat;
        background-attachment: fixed;
    }
    @media (min-width: 320px) and (max-width: 480px) {
        body { background-position: 55px 350px; }
    }
    @media (min-width: 768px) and (max-width: 1024px) {
        body { background-position: 55px 200px; }
    }
    @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
        body { background-position: 55px 200px; }
    }
</style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tbody>
    <tr>
      <td>
      <div>
            <a id="nv-logo" href="https://www.nvidia.com/"></a>
        </div>
        <!--img src="./NVLogo_2D_H.jpg" width="110" height="44"-->
      </td>
    </tr>
    <tr id="titlearea" valign="middle">
        <td width="40%">
            <h1 style="margin-left:12px; margin-top: 10px; margin-bottom:12px;">NVIDIA DRIVE OS Linux SDK API Reference</h1>
        </td>
        <td>
            <h5 style="text-align:right; margin-top: 10px; margin-bottom:12px;">
                6.0.5 Release
            </h5>
        </td>
    </tr>
  </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__nvrm__gpu__group.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">GPU access API</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>GPU management and access API. </p>
<p>For related information, see <a href="../Clock Freq and Thermal/discrete_GPU.html" target="_blank">Discrete GPU</a> in the <em>Development Guide</em>.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
General design of nvrm_gpu</h1>
<h2><a class="anchor" id="autotoc_md21"></a>
Object-oriented design</h2>
<p>nvrm_gpu follows object-oriented design. In general, objects are created by API functions ending with "Open" or "Create" and they are destroyed by API functions ending with "Close". For example <a class="el" href="group__nvrm__gpu__lib__safety__group.html#gab6862a6c9ba5c39b43a0b832b90474ba" title="Opens a new instance of the nvrm_gpu library.">NvRmGpuLibOpen()</a> creates the library object and <a class="el" href="group__nvrm__gpu__lib__safety__group.html#gafc7f08ad5c855b2b6ab0d88589abb2da" title="Closes the library and releases all resources.">NvRmGpuLibClose()</a> destroys the object.</p>
<p>The objects typically have a real-world counterpart or they represent a logical construct. For example, a device object represents an NVIDIA GPU.</p>
<p>All objects are referred by handles. A handle is a pointer-to-struct type where the struct provides typing. For example, a library object is referred by a variable of type <code>NvRmGpuLib *</code>. Handles cannot be dereferenced by the nvrm_gpu user.</p>
<p>The handle lifetime is the same as the underlying object lifetime. That is, a valid handle is created by an Open/Create function and a Close function will invalidate the handle as well as destroy the object. For example, <a class="el" href="group__nvrm__gpu__device__safety__group.html#gabb5618b7f47449841e7c7c135827e251" title="Opens a GPU device.">NvRmGpuDeviceOpen()</a> creates a device object and returns a handle to the device. <a class="el" href="group__nvrm__gpu__device__safety__group.html#ga094f4bfb8b5700e17b173c569d7f534b" title="Closes the GPU device.">NvRmGpuDeviceClose()</a> destroys the device object and invalidates the device handle.</p>
<p>In general, before destroying an object, any possible child object must be destroyed first. For example, when closing the library with <a class="el" href="group__nvrm__gpu__lib__safety__group.html#gafc7f08ad5c855b2b6ab0d88589abb2da" title="Closes the library and releases all resources.">NvRmGpuLibClose()</a>, all devices opened within the library scope must be closed first with <a class="el" href="group__nvrm__gpu__device__safety__group.html#ga094f4bfb8b5700e17b173c569d7f534b" title="Closes the GPU device.">NvRmGpuDeviceClose()</a>. Failing to do so will produce undefined behavior in form of dangling pointers in nvrm_gpu internal objects and data structures.</p>
<p>Unless otherwise stated, it is illegal to cross-reference handles under different <a class="el" href="group__nvrm__gpu__device__safety__group.html#gaf7abb633c47c014af646ab604425e1a1" title="Device handle.">NvRmGpuDevice</a> instances. For instance, a channel belonging to one device object cannot be bound to the address space belonging to another device object.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
General interface contract</h2>
<p>Parameter sanity checking:</p>
<ul>
<li>nvrm_gpu will do general sanity checking for all received parameters with the exception of pointer validity. The sanity checking includes basic range checking for integer values, validity checking for enumeration values, and so on. Sanity checking may be delegated to the underlying kernel driver, other shared libraries used by nvrm_gpu, or the GPU itself.</li>
<li>Pointers passed as parameters are not validated. nvrm_gpu is a userspace component and it has no efficient way of validating pointers. This includes also the nvrm_gpu object handles. All non-<code>NULL</code> pointers are expected to be valid.</li>
</ul>
<p>Objects and their relations:</p>
<ul>
<li>In object creation, the first parameter specifies the parent. Some objects may be created for parents of different types. When this is the case, it is specifically stated in the API.</li>
<li>It is a fatal error to close a parent or otherwise related object before the child object, unless otherwise stated. The parent and other related objects are either referenced in the Open/Create functions or specific other functions that bind objects together.</li>
<li>The Close functions can always be supplied with <code>NULL</code> handles, unless otherwise stated. Closing a <code>NULL</code> handle is a no-operation. This allows the nvrm_gpu users to unconditionally close all handles in deinitialization, regardless of whether they refer to valid objects or <code>NULL</code>. (See <a class="el" href="group__nvrm__gpu__lib__safety__group.html#gafc7f08ad5c855b2b6ab0d88589abb2da" title="Closes the library and releases all resources.">NvRmGpuLibClose()</a> for an example.)</li>
</ul>
<p>Handles:</p>
<ul>
<li>nvrm_gpu generally assumes that all nvrm_gpu handles passed to the nvrm_gpu API functions are valid, correctly typed, and non-<code>NULL</code>. Individual API functions may relax the non-<code>NULL</code> requirement by marking input handles as optional in the API function documentation, in which case a <code>NULL</code> pointer may be passed, instead.</li>
<li>Generally, a valid handle is obtained from an API function named "create" or "open". Valid handle is invalidated by calling an API function named "close".</li>
</ul>
<p>Pointers:</p>
<ul>
<li>All passed pointers to memory are expected to be pointers to the regular memory type. On AArch64, this is the Normal memory type. In particular, Device memory types (e.g., Device-GRE) are excluded. All dereferenceable pointers received from nvrm_gpu are regular memory types unless otherwise stated.</li>
<li>All passed pointers are expected to be aligned by the C platform ABI rules.</li>
<li>Some nvrm_gpu API functions return const pointers as return values. In general, the pointers are valid as long as the related object is valid unless otherwise stated. And in particular, the caller shall not attempt to free them. For example, the device list returned by <a class="el" href="group__nvrm__gpu__lib__safety__group.html#gadbec6681b193c6373901f2f5eb87cb69" title="Returns the list of probed GPUs.">NvRmGpuLibListDevices()</a> is valid until the related library handle is closed.</li>
</ul>
<p>Forwards and backwards compatibility:</p>
<ul>
<li>Many nvrm_gpu functions expect a pointer to an attribute struct. The attribute struct provides room for future extensibility while maintaining source-level backwards compatibility. Generally, a NULL pointer is also accepted in which case nvrm_gpu assumes default attributes. The nvrm_gpu users should define the attribute structs with macros provided by the nvrm_gpu API. (See <a class="el" href="group__nvrm__gpu__device__safety__group.html#gabb5618b7f47449841e7c7c135827e251" title="Opens a GPU device.">NvRmGpuDeviceOpen()</a> and <a class="el" href="group__nvrm__gpu__device__safety__group.html#ga679fee70f6dc988f6dd553fdfd88a2e7" title="Definer macro for NvRmGpuDeviceOpen().">NVRM_GPU_DEFINE_DEVICE_OPEN_ATTR()</a> for instance.)</li>
<li>In general, nvrm_gpu attempts to maintain source-level backwards compatibility. This means that the user may upgrade nvrm_gpu without changes in the nvrm_gpu users' sources. However, a recompilation may be needed, as nvrm_gpu does not provide binary compatibility.</li>
<li>The reasons for breaking the backwards compatibility are usually either due to security reasons or that the functionality has been completely removed.</li>
</ul>
<h2><a class="anchor" id="autotoc_md23"></a>
Concurrency and thread safety</h2>
<p>nvrm_gpu is thread-safe with the following rule: an object may be closed only if there are no concurrent operations on-going on it. Attempting to close an object in one thread when another thread is still accessing it is a fatal error.</p>
<p>nvrm_gpu internally uses fine-grain locking to promote high-performance multi-threaded programming. The nvrm_gpu implementation uses the partial lock ordering technique to avoid deadlocks related to nested locking.</p>
<h2><a class="anchor" id="autotoc_md24"></a>
Safety-certified subset</h2>
<p>nvrm_gpu is subject to safety certification for specific releases. The nvrm_gpu library in the safety-certified release comes in form of special build called the <em>safety build</em> of nvrm_gpu. The safety build supports a subset of the nvrm_gpu API functionality. This is referred as the <em>safety subset</em>.</p>
<p>The safety subset available in the safety build is denoted by API groups that have "safety subset" in their name. Functionality that is not within the "safety subset" groups is not available in the safety build and must not be attempted to be used in a safety-critical context. The top-level safety subset API group is <a class="el" href="group__nvrm__gpu__safety__group.html">GPU access API (safety subset)</a>.</p>
<p>The use of nvrm_gpu in a safety-critical context is further subject to certain assumptions, restrictions, and recommendations. These are described in the safety manual provided in the safety-certified release.</p>
<p>The safety build of nvrm_gpu has additional internal checks enabled that are not available in the regular builds for performance reasons. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__nvrm__gpu__device__group"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nvrm__gpu__device__group.html">GPU access API: Device management</a></td></tr>
<tr class="memdesc:group__nvrm__gpu__device__group"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device control, device capabilities, and device memory management. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__nvrm__gpu__lib__group"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nvrm__gpu__lib__group.html">GPU access API: Library</a></td></tr>
<tr class="memdesc:group__nvrm__gpu__lib__group"><td class="mdescLeft">&#160;</td><td class="mdescRight">Library management and device discovery. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!--
# Copyright (c) 2022, NVIDIA CORPORATION. All rights reserved.
#
# NVIDIA CORPORATION and its licensors retain all intellectual property
# and proprietary rights in and to this software, related documentation
# and any modifications thereto.  Any use, reproduction, disclosure or
# distribution of this software and related documentation without an express
# license agreement from NVIDIA CORPORATION is strictly prohibited.
-->
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer footer-left">
        Subject to Change | For test and development only. <br/>
        © 2022 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
      </li>
      <li class="footer">
        Tue Nov 29 2022 20:35:29 |
        PR-10720-6.0
      </li>
      </li>
     </ul>
  </div>
<script type="text/javascript">if (typeof _satellite != "undefined"){ _satellite.pageBottom();}</script>
</body>
</html>
